var $t=Object.defineProperty;var qt=Object.prototype.hasOwnProperty;var lt=Object.getOwnPropertySymbols,Vt=Object.prototype.propertyIsEnumerable;var ut=(t,n,e)=>n in t?$t(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,d=(t,n)=>{for(var e in n||(n={}))qt.call(n,e)&&ut(t,e,n[e]);if(lt)for(var e of lt(n))Vt.call(n,e)&&ut(t,e,n[e]);return t};import{a as at,b as ot,c as Nt,m as z,d as st,u as N,e as G,f as S,n as B,g as Gt,h as P,s as Z,r as Zt,i as ht,j as M,k as Kt,l as Xt}from"./common/index-83c259de.js";const Jt={tokenize:en,partial:!0},ct={tokenize:rn,partial:!0},ft={tokenize:ln,partial:!0},j={tokenize:an,partial:!0},gt={tokenize:un,partial:!0},pt={tokenize:tn,previous:xt},mt={tokenize:nn,previous:X},L={tokenize:Yt,previous:wt},A={},Qt={text:A};let R=48;for(;R<123;)A[R]=L,R++,R===58?R=65:R===91&&(R=97);A[43]=L,A[45]=L,A[46]=L,A[95]=L,A[72]=[L,mt],A[104]=[L,mt],A[87]=[L,pt],A[119]=[L,pt];function Yt(t,n,e){const l=this;let o,i;return r;function r(g){return!bt(g)||!wt(l.previous)||J(l.events)?e(g):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(g))}function a(g){return bt(g)?(t.consume(g),a):g===64?(t.consume(g),u):e(g)}function u(g){return g===46?t.check(j,m,p)(g):g===45||g===95?t.check(j,e,h)(g):at(g)?(!i&&Nt(g)&&(i=!0),t.consume(g),u):m(g)}function p(g){return t.consume(g),o=!0,i=void 0,u}function h(g){return t.consume(g),k}function k(g){return g===46?t.check(j,e,p)(g):u(g)}function m(g){return o&&!i?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),n(g)):e(g)}}function tn(t,n,e){const l=this;return o;function o(r){return r!==87&&r!==119||!xt(l.previous)||J(l.events)?e(r):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Jt,t.attempt(ct,t.attempt(ft,i),e),e)(r))}function i(r){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),n(r)}}function nn(t,n,e){const l=this;return o;function o(c){return c!==72&&c!==104||!X(l.previous)||J(l.events)?e(c):(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),t.consume(c),i)}function i(c){return c===84||c===116?(t.consume(c),r):e(c)}function r(c){return c===84||c===116?(t.consume(c),a):e(c)}function a(c){return c===80||c===112?(t.consume(c),u):e(c)}function u(c){return c===83||c===115?(t.consume(c),p):p(c)}function p(c){return c===58?(t.consume(c),h):e(c)}function h(c){return c===47?(t.consume(c),k):e(c)}function k(c){return c===47?(t.consume(c),m):e(c)}function m(c){return c===null||st(c)||N(c)||G(c)?e(c):t.attempt(ct,t.attempt(ft,g),e)(c)}function g(c){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),n(c)}}function en(t,n,e){return l;function l(u){return t.consume(u),o}function o(u){return u===87||u===119?(t.consume(u),i):e(u)}function i(u){return u===87||u===119?(t.consume(u),r):e(u)}function r(u){return u===46?(t.consume(u),a):e(u)}function a(u){return u===null||S(u)?e(u):n(u)}}function rn(t,n,e){let l,o;return i;function i(u){return u===38?t.check(gt,a,r)(u):u===46||u===95?t.check(j,a,r)(u):u===null||st(u)||N(u)||u!==45&&G(u)?a(u):(t.consume(u),i)}function r(u){return u===46?(o=l,l=void 0,t.consume(u),i):(u===95&&(l=!0),t.consume(u),i)}function a(u){return!o&&!l?n(u):e(u)}}function ln(t,n){let e=0;return l;function l(r){return r===38?t.check(gt,n,o)(r):(r===40&&e++,r===41?t.check(j,i,o)(r):K(r)?n(r):kt(r)?t.check(j,n,o)(r):(t.consume(r),l))}function o(r){return t.consume(r),l}function i(r){return e--,e<0?n(r):o(r)}}function un(t,n,e){return l;function l(r){return t.consume(r),o}function o(r){return ot(r)?(t.consume(r),o):r===59?(t.consume(r),i):e(r)}function i(r){return K(r)?n(r):e(r)}}function an(t,n,e){return l;function l(i){return t.consume(i),o}function o(i){return kt(i)?(t.consume(i),o):K(i)?n(i):e(i)}}function kt(t){return t===33||t===34||t===39||t===41||t===42||t===44||t===46||t===58||t===59||t===60||t===63||t===95||t===126}function K(t){return t===null||t===60||z(t)}function bt(t){return t===43||t===45||t===46||t===95||at(t)}function xt(t){return t===null||t===40||t===42||t===95||t===126||z(t)}function X(t){return t===null||!ot(t)}function wt(t){return t!==47&&X(t)}function J(t){let n=t.length,e=!1;for(;n--;){const l=t[n][1];if((l.type==="labelLink"||l.type==="labelImage")&&!l._balanced){e=!0;break}if(l._gfmAutolinkLiteralWalkedInto){e=!1;break}}return t.length>0&&!e&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),e}const on={tokenize:kn,partial:!0};function sn(){return{document:{[91]:{tokenize:gn,continuation:{tokenize:pn},exit:mn}},text:{[91]:{tokenize:fn},[93]:{add:"after",tokenize:hn,resolveTo:cn}}}}function hn(t,n,e){const l=this;let o=l.events.length;const i=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let r;for(;o--;){const u=l.events[o][1];if(u.type==="labelImage"){r=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!r||!r._balanced)return e(u);const p=B(l.sliceSerialize({start:r.end,end:l.now()}));return p.charCodeAt(0)!==94||!i.includes(p.slice(1))?e(u):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),n(u))}}function cn(t,n){let e=t.length;for(;e--;)if(t[e][1].type==="labelImage"&&t[e][0]==="enter"){t[e][1];break}t[e+1][1].type="data",t[e+3][1].type="gfmFootnoteCallLabelMarker";const l={type:"gfmFootnoteCall",start:Object.assign({},t[e+3][1].start),end:Object.assign({},t[t.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},t[e+3][1].end),end:Object.assign({},t[e+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},t[t.length-1][1].start)},r={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},a=[t[e+1],t[e+2],["enter",l,n],t[e+3],t[e+4],["enter",o,n],["exit",o,n],["enter",i,n],["enter",r,n],["exit",r,n],["exit",i,n],t[t.length-2],t[t.length-1],["exit",l,n]];return t.splice(e,t.length-e+1,...a),t}function fn(t,n,e){const l=this,o=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let i=0,r;return a;function a(m){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),u}function u(m){return m!==94?e(m):(t.enter("gfmFootnoteCallMarker"),t.consume(m),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",p)}function p(m){let g;return m===null||m===91||i++>999?e(m):m===93?r?(t.exit("chunkString"),g=t.exit("gfmFootnoteCallString"),o.includes(B(l.sliceSerialize(g)))?k(m):e(m)):e(m):(t.consume(m),z(m)||(r=!0),m===92?h:p)}function h(m){return m===91||m===92||m===93?(t.consume(m),i++,p):p(m)}function k(m){return t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),n}}function gn(t,n,e){const l=this,o=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let i,r=0,a;return u;function u(f){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(f){return f===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),h):e(f)}function h(f){let b;return f===null||f===91||r>999?e(f):f===93?a?(b=t.exit("gfmFootnoteDefinitionLabelString"),i=B(l.sliceSerialize(b)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),g):e(f):S(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),r++,h):(t.enter("chunkString").contentType="string",k(f))}function k(f){return f===null||S(f)||f===91||f===93||r>999?(t.exit("chunkString"),h(f)):(z(f)||(a=!0),r++,t.consume(f),f===92?m:k)}function m(f){return f===91||f===92||f===93?(t.consume(f),r++,k):k(f)}function g(f){return f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),P(t,c,"gfmFootnoteDefinitionWhitespace")):e(f)}function c(f){return o.includes(i)||o.push(i),n(f)}}function pn(t,n,e){return t.check(Gt,n,t.attempt(on,n,e))}function mn(t){t.exit("gfmFootnoteDefinition")}function kn(t,n,e){const l=this;return P(t,o,"gfmFootnoteDefinitionIndent",4+1);function o(i){const r=l.events[l.events.length-1];return r&&r[1].type==="gfmFootnoteDefinitionIndent"&&r[2].sliceSerialize(r[1],!0).length===4?n(i):e(i)}}function bn(t={}){let n=t.singleTilde;const e={tokenize:o,resolveAll:l};return n==null&&(n=!0),{text:{[126]:e},insideSpan:{null:[e]},attentionMarkers:{null:[126]}};function l(i,r){let a=-1;for(;++a<i.length;)if(i[a][0]==="enter"&&i[a][1].type==="strikethroughSequenceTemporary"&&i[a][1]._close){let u=a;for(;u--;)if(i[u][0]==="exit"&&i[u][1].type==="strikethroughSequenceTemporary"&&i[u][1]._open&&i[a][1].end.offset-i[a][1].start.offset==i[u][1].end.offset-i[u][1].start.offset){i[a][1].type="strikethroughSequence",i[u][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},i[u][1].start),end:Object.assign({},i[a][1].end)},h={type:"strikethroughText",start:Object.assign({},i[u][1].end),end:Object.assign({},i[a][1].start)},k=[["enter",p,r],["enter",i[u][1],r],["exit",i[u][1],r],["enter",h,r]];Z(k,k.length,0,Zt(r.parser.constructs.insideSpan.null,i.slice(u+1,a),r)),Z(k,k.length,0,[["exit",h,r],["enter",i[a][1],r],["exit",i[a][1],r],["exit",p,r]]),Z(i,u-1,a-u+3,k),a=u+k.length-2;break}}for(a=-1;++a<i.length;)i[a][1].type==="strikethroughSequenceTemporary"&&(i[a][1].type="data");return i}function o(i,r,a){const u=this.previous,p=this.events;let h=0;return k;function k(g){return u===126&&p[p.length-1][1].type!=="characterEscape"?a(g):(i.enter("strikethroughSequenceTemporary"),m(g))}function m(g){const c=ht(u);if(g===126)return h>1?a(g):(i.consume(g),h++,m);if(h<2&&!n)return a(g);const f=i.exit("strikethroughSequenceTemporary"),b=ht(g);return f._open=!b||b===2&&Boolean(c),f._close=!c||c===2&&Boolean(b),r(g)}}}const xn={flow:{null:{tokenize:yn,resolve:wn}}},yt={tokenize:Cn,partial:!0};function wn(t,n){let e=-1,l,o,i,r,a,u,p;for(;++e<t.length;){const h=t[e][1];if(i&&(h.type==="temporaryTableCellContent"&&(r=r||e,a=e),(h.type==="tableCellDivider"||h.type==="tableRow")&&a)){const k={type:"tableContent",start:t[r][1].start,end:t[a][1].end},m={type:"chunkText",start:k.start,end:k.end,contentType:"text"};t.splice(r,a-r+1,["enter",k,n],["enter",m,n],["exit",m,n],["exit",k,n]),e-=a-r-3,r=void 0,a=void 0}if(t[e][0]==="exit"&&u!==void 0&&u+(p?0:1)<e&&(h.type==="tableCellDivider"||h.type==="tableRow"&&(u+3<e||t[u][1].type!=="whitespace"))){const k={type:o?"tableDelimiter":l?"tableHeader":"tableData",start:t[u][1].start,end:t[e][1].end};t.splice(e+(h.type==="tableCellDivider"?1:0),0,["exit",k,n]),t.splice(u,0,["enter",k,n]),e+=2,u=e+1,p=!0}h.type==="tableRow"&&(i=t[e][0]==="enter",i&&(u=e+1,p=!1)),h.type==="tableDelimiterRow"&&(o=t[e][0]==="enter",o&&(u=e+1,p=!1)),h.type==="tableHead"&&(l=t[e][0]==="enter")}return t}function yn(t,n,e){const l=this,o=[];let i=0,r,a;return u;function u(s){return t.enter("table")._align=o,t.enter("tableHead"),t.enter("tableRow"),s===124?p(s):(i++,t.enter("temporaryTableCellContent"),m(s))}function p(s){return t.enter("tableCellDivider"),t.consume(s),t.exit("tableCellDivider"),r=!0,h}function h(s){return s===null||S(s)?c(s):M(s)?(t.enter("whitespace"),t.consume(s),k):(r&&(r=void 0,i++),s===124?p(s):(t.enter("temporaryTableCellContent"),m(s)))}function k(s){return M(s)?(t.consume(s),k):(t.exit("whitespace"),h(s))}function m(s){return s===null||s===124||z(s)?(t.exit("temporaryTableCellContent"),h(s)):(t.consume(s),s===92?g:m)}function g(s){return s===92||s===124?(t.consume(s),m):m(s)}function c(s){if(s===null)return e(s);t.exit("tableRow"),t.exit("tableHead");const O=l.interrupt;return l.interrupt=!0,t.attempt({tokenize:q,partial:!0},function(E){return l.interrupt=O,t.enter("tableDelimiterRow"),f(E)},function(E){return l.interrupt=O,e(E)})(s)}function f(s){return s===null||S(s)?D(s):M(s)?(t.enter("whitespace"),t.consume(s),b):s===45?(t.enter("tableDelimiterFiller"),t.consume(s),a=!0,o.push("none"),x):s===58?(t.enter("tableDelimiterAlignment"),t.consume(s),t.exit("tableDelimiterAlignment"),o.push("left"),w):s===124?(t.enter("tableCellDivider"),t.consume(s),t.exit("tableCellDivider"),f):e(s)}function b(s){return M(s)?(t.consume(s),b):(t.exit("whitespace"),f(s))}function x(s){return s===45?(t.consume(s),x):(t.exit("tableDelimiterFiller"),s===58?(t.enter("tableDelimiterAlignment"),t.consume(s),t.exit("tableDelimiterAlignment"),o[o.length-1]=o[o.length-1]==="left"?"center":"right",y):f(s))}function w(s){return s===45?(t.enter("tableDelimiterFiller"),t.consume(s),a=!0,x):e(s)}function y(s){return s===null||S(s)?D(s):M(s)?(t.enter("whitespace"),t.consume(s),b):s===124?(t.enter("tableCellDivider"),t.consume(s),t.exit("tableCellDivider"),f):e(s)}function D(s){return t.exit("tableDelimiterRow"),!a||i!==o.length?e(s):s===null?C(s):t.check(yt,C,t.attempt({tokenize:q,partial:!0},P(t,U,"linePrefix",4),C))(s)}function C(s){return t.exit("table"),n(s)}function U(s){return t.enter("tableBody"),F(s)}function F(s){return t.enter("tableRow"),s===124?it(s):(t.enter("temporaryTableCellContent"),_(s))}function it(s){return t.enter("tableCellDivider"),t.consume(s),t.exit("tableCellDivider"),v}function v(s){return s===null||S(s)?Wt(s):M(s)?(t.enter("whitespace"),t.consume(s),rt):s===124?it(s):(t.enter("temporaryTableCellContent"),_(s))}function rt(s){return M(s)?(t.consume(s),rt):(t.exit("whitespace"),v(s))}function _(s){return s===null||s===124||z(s)?(t.exit("temporaryTableCellContent"),v(s)):(t.consume(s),s===92?Ht:_)}function Ht(s){return s===92||s===124?(t.consume(s),_):_(s)}function Wt(s){return t.exit("tableRow"),s===null?$(s):t.check(yt,$,t.attempt({tokenize:q,partial:!0},P(t,F,"linePrefix",4),$))(s)}function $(s){return t.exit("tableBody"),C(s)}function q(s,O,E){return Ut;function Ut(I){return s.enter("lineEnding"),s.consume(I),s.exit("lineEnding"),P(s,vt,"linePrefix")}function vt(I){if(l.parser.lazy[l.now().line]||I===null||S(I))return E(I);const H=l.events[l.events.length-1];return!l.parser.constructs.disable.null.includes("codeIndented")&&H&&H[1].type==="linePrefix"&&H[2].sliceSerialize(H[1],!0).length>=4?E(I):(l._gfmTableDynamicInterruptHack=!0,s.check(l.parser.constructs.flow,function(V){return l._gfmTableDynamicInterruptHack=!1,E(V)},function(V){return l._gfmTableDynamicInterruptHack=!1,O(V)})(I))}}}function Cn(t,n,e){let l=0;return o;function o(r){return t.enter("check"),t.consume(r),i}function i(r){return r===-1||r===32?(t.consume(r),l++,l===4?n:i):r===null||z(r)?n(r):e(r)}}const dn={tokenize:Fn},Dn={text:{[91]:dn}};function Fn(t,n,e){const l=this;return o;function o(a){return l.previous!==null||!l._gfmTasklistFirstContentOfListItem?e(a):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(a),t.exit("taskListCheckMarker"),i)}function i(a){return z(a)?(t.enter("taskListCheckValueUnchecked"),t.consume(a),t.exit("taskListCheckValueUnchecked"),r):a===88||a===120?(t.enter("taskListCheckValueChecked"),t.consume(a),t.exit("taskListCheckValueChecked"),r):e(a)}function r(a){return a===93?(t.enter("taskListCheckMarker"),t.consume(a),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),t.check({tokenize:An},n,e)):e(a)}}function An(t,n,e){const l=this;return P(t,o,"whitespace");function o(i){const r=l.events[l.events.length-1];return(r&&r[1].type==="whitespace"||S(i))&&i!==null?n(i):e(i)}}function Sn(t){return Kt([Qt,sn(),bn(t),xn,Dn])}function Ct(t,n){const e=String(t);if(typeof n!="string")throw new TypeError("Expected character");let l=0,o=e.indexOf(n);for(;o!==-1;)l++,o=e.indexOf(n,o+n.length);return l}function Ln(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const Q=function(t){if(t==null)return In;if(typeof t=="string")return En(t);if(typeof t=="object")return Array.isArray(t)?zn(t):Tn(t);if(typeof t=="function")return W(t);throw new Error("Expected function, string, or object as test")};function zn(t){const n=[];let e=-1;for(;++e<t.length;)n[e]=Q(t[e]);return W(l);function l(...o){let i=-1;for(;++i<n.length;)if(n[i].call(this,...o))return!0;return!1}}function Tn(t){return W(n);function n(e){let l;for(l in t)if(e[l]!==t[l])return!1;return!0}}function En(t){return W(n);function n(e){return e&&e.type===t}}function W(t){return n;function n(...e){return Boolean(t.call(this,...e))}}function In(){return!0}function Mn(t){return t}const Rn=!0,Pn="skip",dt=!1,jn=function(t,n,e,l){typeof n=="function"&&typeof e!="function"&&(l=e,e=n,n=null);const o=Q(n),i=l?-1:1;r(t,null,[])();function r(a,u,p){const h=typeof a=="object"&&a!==null?a:{};let k;return typeof h.type=="string"&&(k=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0,Object.defineProperty(m,"name",{value:"node ("+Mn(h.type+(k?"<"+k+">":""))+")"})),m;function m(){let g=[],c,f,b;if((!n||o(a,u,p[p.length-1]||null))&&(g=_n(e(a,p)),g[0]===dt))return g;if(a.children&&g[0]!==Pn)for(f=(l?a.children.length:-1)+i,b=p.concat(a);f>-1&&f<a.children.length;){if(c=r(a.children[f],f,b)(),c[0]===dt)return c;f=typeof c[1]=="number"?c[1]:f+i}return g}}};function _n(t){return Array.isArray(t)?t:typeof t=="number"?[Rn,t]:[t]}const Bn={}.hasOwnProperty,On=function(t,n,e,l){let o,i;typeof n=="string"||n instanceof RegExp?(i=[[n,e]],o=l):(i=n,o=e),o||(o={});const r=Q(o.ignore||[]),a=Hn(i);let u=-1;for(;++u<a.length;)jn(t,"text",p);return t;function p(k,m){let g=-1,c;for(;++g<m.length;){const f=m[g];if(r(f,c?c.children.indexOf(f):void 0,c))return;c=f}if(c)return h(k,m)}function h(k,m){const g=m[m.length-1],c=a[u][0],f=a[u][1];let b=0;const x=g.children.indexOf(k);let w=!1,y=[],D;c.lastIndex=0;let C=c.exec(k.value);for(;C;){D=C.index;const U={index:C.index,input:C.input,stack:[...m,k]};let F=f(...C,U);if(typeof F=="string"&&(F=F.length>0?{type:"text",value:F}:void 0),F!==!1&&(b!==D&&y.push({type:"text",value:k.value.slice(b,D)}),Array.isArray(F)?y.push(...F):F&&y.push(F),b=D+C[0].length,w=!0),!c.global)break;C=c.exec(k.value)}return w?(b<k.value.length&&y.push({type:"text",value:k.value.slice(b)}),g.children.splice(x,1,...y)):y=[k],x+y.length}};function Hn(t){const n=[];if(typeof t!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(t)){let e=-1;for(;++e<t.length;)n.push([Dt(t[e][0]),Ft(t[e][1])])}else{let e;for(e in t)Bn.call(t,e)&&n.push([Dt(e),Ft(t[e])])}return n}function Dt(t){return typeof t=="string"?new RegExp(Ln(t),"g"):t}function Ft(t){return typeof t=="function"?t:()=>t}const Y="phrasing",tt=["autolink","link","image","label"],Wn={transforms:[Gn],enter:{literalAutolink:vn,literalAutolinkEmail:nt,literalAutolinkHttp:nt,literalAutolinkWww:nt},exit:{literalAutolink:Nn,literalAutolinkEmail:Vn,literalAutolinkHttp:$n,literalAutolinkWww:qn}},Un={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Y,notInConstruct:tt},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Y,notInConstruct:tt},{character:":",before:"[ps]",after:"\\/",inConstruct:Y,notInConstruct:tt}]};function vn(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function nt(t){this.config.enter.autolinkProtocol.call(this,t)}function $n(t){this.config.exit.autolinkProtocol.call(this,t)}function qn(t){this.config.exit.data.call(this,t);const n=this.stack[this.stack.length-1];n.url="http://"+this.sliceSerialize(t)}function Vn(t){this.config.exit.autolinkEmail.call(this,t)}function Nn(t){this.exit(t)}function Gn(t){On(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Zn],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,Kn]],{ignore:["link","linkReference"]})}function Zn(t,n,e,l,o){let i="";if(!At(o)||(/^w/i.test(n)&&(e=n+e,n="",i="http://"),!Xn(e)))return!1;const r=Jn(e+l);if(!r[0])return!1;const a={type:"link",title:null,url:i+n+r[0],children:[{type:"text",value:n+r[0]}]};return r[1]?[a,{type:"text",value:r[1]}]:a}function Kn(t,n,e,l){return!At(l,!0)||/[_-\d]$/.test(e)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+e,children:[{type:"text",value:n+"@"+e}]}}function Xn(t){const n=t.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function Jn(t){const n=/[!"&'),.:;<>?\]}]+$/.exec(t);let e,l,o,i;if(n)for(t=t.slice(0,n.index),i=n[0],e=i.indexOf(")"),l=Ct(t,"("),o=Ct(t,")");e!==-1&&l>o;)t+=i.slice(0,e+1),i=i.slice(e+1),e=i.indexOf(")"),o++;return[t,i]}function At(t,n){const e=t.input.charCodeAt(t.index-1);return(t.index===0||N(e)||G(e))&&(!n||e!==47)}function St(t){return t.label||!t.identifier?t.label||"":Xt(t.identifier)}function T(t){const n=t||{},e=n.now||{};let l=n.lineShift||0,o=e.line||1,i=e.column||1;return{move:u,current:r,shift:a};function r(){return{now:{line:o,column:i},lineShift:l}}function a(p){l+=p}function u(p=""){const h=p.split(/\r?\n|\r/g),k=h[h.length-1];return o+=h.length-1,i=h.length===1?i+k.length:1+k.length+l,p}}function Lt(t,n,e){const l=n.indexStack,o=t.children||[],i=T(e),r=[];let a=-1;for(l.push(-1);++a<o.length;){const p=o[a];l[l.length-1]=a,r.push(i.move(n.handle(p,t,n,d({before:`
`,after:`
`},i.current())))),p.type!=="list"&&(n.bulletLastUsed=void 0),a<o.length-1&&r.push(i.move(u(p,o[a+1])))}return l.pop(),r.join("");function u(p,h){let k=n.join.length;for(;k--;){const m=n.join[k](p,h,t,n);if(m===!0||m===1)break;if(typeof m=="number")return`
`.repeat(1+m);if(m===!1)return`

<!---->

`}return`

`}}const Qn=/\r?\n|\r/g;function zt(t,n){const e=[];let l=0,o=0,i;for(;i=Qn.exec(t);)r(t.slice(l,i.index)),e.push(i[0]),l=i.index+i[0].length,o++;return r(t.slice(l)),e.join("");function r(a){e.push(n(a,o,!a))}}function Tt(t){if(!t._compiled){const n=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function Yn(t,n){return Et(t,n.inConstruct,!0)&&!Et(t,n.notInConstruct,!1)}function Et(t,n,e){if(!n)return e;typeof n=="string"&&(n=[n]);let l=-1;for(;++l<n.length;)if(t.includes(n[l]))return!0;return!1}function It(t,n,e){const l=(e.before||"")+(n||"")+(e.after||""),o=[],i=[],r={};let a=-1;for(;++a<t.unsafe.length;){const h=t.unsafe[a];if(!Yn(t.stack,h))continue;const k=Tt(h);let m;for(;m=k.exec(l);){const g="before"in h||Boolean(h.atBreak),c="after"in h,f=m.index+(g?m[1].length:0);o.includes(f)?(r[f].before&&!g&&(r[f].before=!1),r[f].after&&!c&&(r[f].after=!1)):(o.push(f),r[f]={before:g,after:c})}}o.sort(te);let u=e.before?e.before.length:0;const p=l.length-(e.after?e.after.length:0);for(a=-1;++a<o.length;){const h=o[a];h<u||h>=p||h+1<p&&o[a+1]===h+1&&r[h].after&&!r[h+1].before&&!r[h+1].after||o[a-1]===h-1&&r[h].before&&!r[h-1].before&&!r[h-1].after||(u!==h&&i.push(Mt(l.slice(u,h),"\\")),u=h,/[!-/:-@[-`{-~]/.test(l.charAt(h))&&(!e.encode||!e.encode.includes(l.charAt(h)))?i.push("\\"):(i.push("&#x"+l.charCodeAt(h).toString(16).toUpperCase()+";"),u++))}return i.push(Mt(l.slice(u,p),e.after)),i.join("")}function te(t,n){return t-n}function Mt(t,n){const e=/\\(?=[!-/:-@[-`{-~])/g,l=[],o=[],i=t+n;let r=-1,a=0,u;for(;u=e.exec(i);)l.push(u.index);for(;++r<l.length;)a!==l[r]&&o.push(t.slice(a,l[r])),o.push("\\"),a=l[r];return o.push(t.slice(a)),o.join("")}function ne(){return{enter:{gfmFootnoteDefinition:t,gfmFootnoteDefinitionLabelString:n,gfmFootnoteCall:o,gfmFootnoteCallString:i},exit:{gfmFootnoteDefinition:l,gfmFootnoteDefinitionLabelString:e,gfmFootnoteCall:a,gfmFootnoteCallString:r}};function t(u){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},u)}function n(){this.buffer()}function e(u){const p=this.resume(),h=this.stack[this.stack.length-1];h.label=p,h.identifier=B(this.sliceSerialize(u)).toLowerCase()}function l(u){this.exit(u)}function o(u){this.enter({type:"footnoteReference",identifier:"",label:""},u)}function i(){this.buffer()}function r(u){const p=this.resume(),h=this.stack[this.stack.length-1];h.label=p,h.identifier=B(this.sliceSerialize(u)).toLowerCase()}function a(u){this.exit(u)}}function ee(){return t.peek=n,{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:e,footnoteReference:t}};function t(l,o,i,r){const a=T(r);let u=a.move("[^");const p=i.enter("footnoteReference"),h=i.enter("reference");return u+=a.move(It(i,St(l),d(d({},a.current()),{before:u,after:"]"}))),h(),p(),u+=a.move("]"),u}function n(){return"["}function e(l,o,i,r){const a=T(r);let u=a.move("[^");const p=i.enter("footnoteDefinition"),h=i.enter("label");return u+=a.move(It(i,St(l),d(d({},a.current()),{before:u,after:"]"}))),h(),u+=a.move("]:"+(l.children&&l.children.length>0?" ":"")),a.shift(4),u+=a.move(zt(Lt(l,i,a.current()),k)),p(),u;function k(m,g,c){return g?(c?"":"    ")+m:m}}}function Rt(t,n,e){const l=n.indexStack,o=t.children||[],i=[];let r=-1,a=e.before;l.push(-1);let u=T(e);for(;++r<o.length;){const p=o[r];let h;if(l[l.length-1]=r,r+1<o.length){let k=n.handle.handlers[o[r+1].type];k&&k.peek&&(k=k.peek),h=k?k(o[r+1],t,n,d({before:"",after:""},u.current())).charAt(0):""}else h=e.after;i.length>0&&(a==="\r"||a===`
`)&&p.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),a=" ",u=T(e),u.move(i.join(""))),i.push(u.move(n.handle(p,t,n,d(d({},u.current()),{before:a,after:h})))),a=i[i.length-1].slice(-1)}return l.pop(),i.join("")}const ie={canContainEols:["delete"],enter:{strikethrough:le},exit:{strikethrough:ue}},re={unsafe:[{character:"~",inConstruct:"phrasing"}],handlers:{delete:Pt}};Pt.peek=ae;function le(t){this.enter({type:"delete",children:[]},t)}function ue(t){this.exit(t)}function Pt(t,n,e,l){const o=T(l),i=e.enter("emphasis");let r=o.move("~~");return r+=Rt(t,e,d(d({},o.current()),{before:r,after:"~"})),r+=o.move("~~"),i(),r}function ae(){return"~"}jt.peek=oe;function jt(t,n,e){let l=t.value||"",o="`",i=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(l);)o+="`";for(/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^`|`$/.test(l))&&(l=" "+l+" ");++i<e.unsafe.length;){const r=e.unsafe[i],a=Tt(r);let u;if(!!r.atBreak)for(;u=a.exec(l);){let p=u.index;l.charCodeAt(p)===10&&l.charCodeAt(p-1)===13&&p--,l=l.slice(0,p)+" "+l.slice(u.index+1)}}return o+l+o}function oe(){return"`"}function se(t,n={}){const e=(n.align||[]).concat(),l=n.stringLength||ce,o=[],i=[],r=[],a=[];let u=0,p=-1;for(;++p<t.length;){const c=[],f=[];let b=-1;for(t[p].length>u&&(u=t[p].length);++b<t[p].length;){const x=he(t[p][b]);if(n.alignDelimiters!==!1){const w=l(x);f[b]=w,(a[b]===void 0||w>a[b])&&(a[b]=w)}c.push(x)}i[p]=c,r[p]=f}let h=-1;if(typeof e=="object"&&"length"in e)for(;++h<u;)o[h]=_t(e[h]);else{const c=_t(e);for(;++h<u;)o[h]=c}h=-1;const k=[],m=[];for(;++h<u;){const c=o[h];let f="",b="";c===99?(f=":",b=":"):c===108?f=":":c===114&&(b=":");let x=n.alignDelimiters===!1?1:Math.max(1,a[h]-f.length-b.length);const w=f+"-".repeat(x)+b;n.alignDelimiters!==!1&&(x=f.length+x+b.length,x>a[h]&&(a[h]=x),m[h]=x),k[h]=w}i.splice(1,0,k),r.splice(1,0,m),p=-1;const g=[];for(;++p<i.length;){const c=i[p],f=r[p];h=-1;const b=[];for(;++h<u;){const x=c[h]||"";let w="",y="";if(n.alignDelimiters!==!1){const D=a[h]-(f[h]||0),C=o[h];C===114?w=" ".repeat(D):C===99?D%2?(w=" ".repeat(D/2+.5),y=" ".repeat(D/2-.5)):(w=" ".repeat(D/2),y=w):y=" ".repeat(D)}n.delimiterStart!==!1&&!h&&b.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||h)&&b.push(" "),n.alignDelimiters!==!1&&b.push(w),b.push(x),n.alignDelimiters!==!1&&b.push(y),n.padding!==!1&&b.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&b.push("|")}g.push(n.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return g.join(`
`)}function he(t){return t==null?"":String(t)}function ce(t){return t.length}function _t(t){const n=typeof t=="string"?t.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}const fe={enter:{table:ge,tableData:Bt,tableHeader:Bt,tableRow:me},exit:{codeText:ke,table:pe,tableData:et,tableHeader:et,tableRow:et}};function ge(t){const n=t._align;this.enter({type:"table",align:n.map(e=>e==="none"?null:e),children:[]},t),this.setData("inTable",!0)}function pe(t){this.exit(t),this.setData("inTable")}function me(t){this.enter({type:"tableRow",children:[]},t)}function et(t){this.exit(t)}function Bt(t){this.enter({type:"tableCell",children:[]},t)}function ke(t){let n=this.resume();this.getData("inTable")&&(n=n.replace(/\\([\\|])/g,be));const e=this.stack[this.stack.length-1];e.value=n,this.exit(t)}function be(t,n){return n==="|"?n:t}function xe(t){const n=t||{},e=n.tableCellPadding,l=n.tablePipeAlign,o=n.stringLength,i=e?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:r,tableRow:a,tableCell:u,inlineCode:m}};function r(g,c,f,b){return p(h(g,f,b),g.align)}function a(g,c,f,b){const x=k(g,f,b),w=p([x]);return w.slice(0,w.indexOf(`
`))}function u(g,c,f,b){const x=f.enter("tableCell"),w=f.enter("phrasing"),y=Rt(g,f,d(d({},b),{before:i,after:i}));return w(),x(),y}function p(g,c){return se(g,{align:c,alignDelimiters:l,padding:e,stringLength:o})}function h(g,c,f){const b=g.children;let x=-1;const w=[],y=c.enter("table");for(;++x<b.length;)w[x]=k(b[x],c,f);return y(),w}function k(g,c,f){const b=g.children;let x=-1;const w=[],y=c.enter("tableRow");for(;++x<b.length;)w[x]=u(b[x],g,c,f);return y(),w}function m(g,c,f){let b=jt(g,c,f);return f.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function we(t){const n=t.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function ye(t){const n=t.options.listItemIndent||"tab";if(n===1||n==="1")return"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function Ce(t,n,e,l){const o=ye(e);let i=e.bulletCurrent||we(e);n&&n.type==="list"&&n.ordered&&(i=(typeof n.start=="number"&&n.start>-1?n.start:1)+(e.options.incrementListMarker===!1?0:n.children.indexOf(t))+i);let r=i.length+1;(o==="tab"||o==="mixed"&&(n&&n.type==="list"&&n.spread||t.spread))&&(r=Math.ceil(r/4)*4);const a=T(l);a.move(i+" ".repeat(r-i.length)),a.shift(r);const u=e.enter("listItem"),p=zt(Lt(t,e,a.current()),h);return u(),p;function h(k,m,g){return m?(g?"":" ".repeat(r))+k:(g?i:i+" ".repeat(r-i.length))+k}}const de={exit:{taskListCheckValueChecked:Ot,taskListCheckValueUnchecked:Ot,paragraph:Fe}},De={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Ae}};function Ot(t){const n=this.stack[this.stack.length-2];n.checked=t.type==="taskListCheckValueChecked"}function Fe(t){const n=this.stack[this.stack.length-2],e=this.stack[this.stack.length-1],l=n.children,o=e.children[0];let i=-1,r;if(n&&n.type==="listItem"&&typeof n.checked=="boolean"&&o&&o.type==="text"){for(;++i<l.length;){const a=l[i];if(a.type==="paragraph"){r=a;break}}r===e&&(o.value=o.value.slice(1),o.value.length===0?e.children.shift():e.position&&o.position&&typeof o.position.start.offset=="number"&&(o.position.start.column++,o.position.start.offset++,e.position.start=Object.assign({},o.position.start)))}this.exit(t)}function Ae(t,n,e,l){const o=t.children[0],i=typeof t.checked=="boolean"&&o&&o.type==="paragraph",r="["+(t.checked?"x":" ")+"] ",a=T(l);i&&a.move(r);let u=Ce(t,n,e,d(d({},l),a.current()));return i&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),u;function p(h){return h+r}}function Se(){return[Wn,ne(),ie,fe,de]}function Le(t){return{extensions:[Un,ee(),re,xe(t),De]}}function ze(t={}){const n=this.data();e("micromarkExtensions",Sn(t)),e("fromMarkdownExtensions",Se()),e("toMarkdownExtensions",Le(t));function e(l,o){(n[l]?n[l]:n[l]=[]).push(o)}}export default ze;

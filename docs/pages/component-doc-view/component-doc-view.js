import{Box as n,Label as u,Text as g}from"../../_snowpack/pkg/adwaita-web.js";import e from"../../_snowpack/pkg/react.js";import{useParams as k}from"../../_snowpack/pkg/react-router-dom.js";import{REPO_NAME as d,REPO_OWNER as w}from"../../adapters/github/constants.js";import{Content as x}from"../../components/content/content.js";import{JsonSchemaViewer as j}from"../../components/json-schema-viewer/json-schema-viewer.js";import{githubRepo as S}from"../../quarks/github-repo/github-repo.js";import{typeDocs as v}from"../../quarks/typedocs/typedocs.js";import"./styles.css.proxy.js";import{ExampleViewer as y}from"../../components/example-viewer/example-viewer.js";import{useNav as b}from"../../hooks/use-nav.js";import{examples as N}from"../../quarks/component-examples/examples.js";import{ExampleMarkdownParser as P}from"../../utilities/example-markdown-parser/example-markdown-parser.js";export const ComponentDocViewPage=()=>{var c,l,i;const E=b(),{componentName:s}=k(),h=S.useBranchName(),r=v.useComponent(s),o=N.useComponentExample(s),[m,p]=e.useState([]),f=t=>{const a=t.propsSources[0].fileName.startsWith("src/")?t.propsSources[0].fileName.replace("src/",""):t.propsSources[0].fileName;if(t.propsSources.length)return`https://github.com/${w}/${d}/tree/${h}/src/${a}#L${t.propsSources[0].line}`};return e.useEffect(()=>{(async()=>{if(o){const a=await new P(o).parse();p(a)}else p([])})()},[o]),e.useEffect(()=>{s||E("/home",{preserveQuery:!0})},[s]),e.createElement(x,null,r&&s?e.createElement("div",null,e.createElement("h1",null,`<${s} />`),e.createElement("a",{href:f(r),className:"source-link"},e.createElement(u,{size:"medium",info:!0},"Source"))):e.createElement(e.Fragment,null),r&&r.description?e.createElement(n,null,e.createElement("h2",null,"Description"),e.createElement(g,null,r.description)):e.createElement(e.Fragment,null),r&&r.propsSchema&&Object.keys((c=r.propsSchema.properties)!=null?c:{}).length?e.createElement(n,{vertical:!0},e.createElement("h2",null,"Props"),e.createElement(j,{schema:r.propsSchema})):e.createElement(e.Fragment,null),r?e.createElement(n,null,m.map((t,a)=>e.createElement(y,{example:t,key:a}))):e.createElement(e.Fragment,null),!(r==null?void 0:r.description)&&Object.keys((i=(l=r==null?void 0:r.propsSchema)==null?void 0:l.properties)!=null?i:{}).length===0&&m.length===0?e.createElement(u,{size:"large"},"This component does not have a documentation yet."):e.createElement(e.Fragment,null))};

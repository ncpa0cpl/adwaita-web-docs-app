import{Autocomplete as g,Box as n,Label as u,Text as k}from"../../_snowpack/pkg/adwaita-web.js";import e from"../../_snowpack/pkg/react.js";import{useParams as d}from"../../_snowpack/pkg/react-router-dom.js";import{REPO_NAME as w,REPO_OWNER as x}from"../../adapters/github/constants.js";import{Content as j}from"../../components/content/content.js";import{JsonSchemaViewer as S}from"../../components/json-schema-viewer/json-schema-viewer.js";import{githubRepo as v}from"../../quarks/github-repo/github-repo.js";import{typeDocs as y}from"../../quarks/typedocs/typedocs.js";import"./styles.css.proxy.js";import{ExampleViewer as b}from"../../components/example-viewer/example-viewer.js";import{useNav as N}from"../../hooks/use-nav.js";import{examples as P}from"../../quarks/component-examples/examples.js";import{ExampleMarkdownParser as F}from"../../utilities/example-markdown-parser/example-markdown-parser.js";export const ComponentDocViewPage=()=>{var c,l,i;const E=N(),{componentName:s}=d(),h=v.useBranchName(),t=y.useComponent(s),a=P.useComponentExample(s),[m,p]=e.useState([]),f=r=>{const o=r.propsSources[0].fileName.startsWith("src/")?r.propsSources[0].fileName.replace("src/",""):r.propsSources[0].fileName;if(r.propsSources.length)return`https://github.com/${x}/${w}/tree/${h}/src/${o}#L${r.propsSources[0].line}`};return e.useEffect(()=>{(async()=>{if(a){const o=await new F(a).parse();p(o)}else p([])})()},[a]),e.useEffect(()=>{s||E("/home",{preserveQuery:!0})},[s]),e.createElement(j,null,e.createElement(g,{options:[],onChange:r=>{console.log(r)}}),t&&s?e.createElement("div",null,e.createElement("h1",null,`<${s} />`),e.createElement("a",{href:f(t),className:"source-link"},e.createElement(u,{size:"medium",info:!0},"Source"))):e.createElement(e.Fragment,null),t&&t.description?e.createElement(n,null,e.createElement("h2",null,"Description"),e.createElement(k,null,t.description)):e.createElement(e.Fragment,null),t&&t.propsSchema&&Object.keys((c=t.propsSchema.properties)!=null?c:{}).length?e.createElement(n,{vertical:!0},e.createElement("h2",null,"Props"),e.createElement(S,{schema:t.propsSchema})):e.createElement(e.Fragment,null),t?e.createElement(n,null,m.map((r,o)=>e.createElement(b,{example:r,key:o}))):e.createElement(e.Fragment,null),!(t==null?void 0:t.description)&&Object.keys((i=(l=t==null?void 0:t.propsSchema)==null?void 0:l.properties)!=null?i:{}).length===0&&m.length===0?e.createElement(u,{size:"large"},"This component does not have a documentation yet."):e.createElement(e.Fragment,null))};

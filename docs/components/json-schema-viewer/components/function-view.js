import{Box as u,Popover as E}from"../../../_snowpack/pkg/adwaita-web.js";import e from"../../../_snowpack/pkg/react.js";import{sortAlphanumeric as w}from"../../../helpers/sort-alphanum.js";import{isRequired as k}from"../utils/is-required.js";import{Description as N}from"./description.js";import{PropertyNameLabel as F}from"./property-name-label.js";import{SchemaView as y}from"./schema-view.js";import{TypeNameLabel as R}from"./type-name-label.js";export const FunctionView=({schema:r,parent:f,name:s})=>{var c,o,p,i;const d=k(f,s),g=w(Object.entries((p=(o=(c=r==null?void 0:r.properties)==null?void 0:c.arguments)==null?void 0:o.properties)!=null?p:{}),([t,n])=>t),b=(i=r.properties)==null?void 0:i.returns,h=t=>{const n=[];for(const l of t.keys()){const[m,a]=t[l],v=l===t.length-1;n.push(e.createElement("span",{key:l},`${m.match(/[^0-9]+/)?m:`arg_${m}`}: `)),typeof a.type=="string"&&["string","number","integer","boolean","null","any","void"].includes(a.type)?n.push(e.createElement("span",{key:l},a.type)):n.push(e.createElement(E,{key:l,content:e.createElement(u,{className:"json-schema-viewer schema-viewer-container"},e.createElement("table",null,e.createElement("tbody",null,e.createElement("tr",null,e.createElement(y,{schema:a})))))},e.createElement("span",{className:"popover-type-ref"},a.title))),v||n.push(e.createElement("span",{key:"separator"},", "))}return n},j=t=>t?typeof t.type=="string"&&["string","number","integer","boolean","null","any","void"].includes(t.type)?t.type:e.createElement(E,{content:e.createElement(u,{className:"json-schema-viewer schema-viewer-container"},e.createElement("table",null,e.createElement("tbody",null,e.createElement("tr",null,e.createElement(y,{schema:t})))))},e.createElement("span",{className:"popover-type-ref"},t.title)):"void";return e.createElement(e.Fragment,null,s&&e.createElement(F,{name:s}),e.createElement("td",null,e.createElement(N,{description:r.description})),e.createElement("td",null,e.createElement("span",{className:"function-type"},e.createElement(e.Fragment,null,e.createElement("span",null,"("),e.createElement(e.Fragment,null,h(g)),e.createElement("span",null,")"),e.createElement("span",null," => "),e.createElement("span",null,j(b)))),!d&&e.createElement(e.Fragment,null,"|",e.createElement(R,{name:"undefined"}))))};

import{Box as i,Popover as u}from"../../../_snowpack/pkg/adwaita-web.js";import e from"../../../_snowpack/pkg/react.js";import{sortAlphanumeric as w}from"../../../helpers/sort-alphanum.js";import{isRequired as N}from"../utils/is-required.js";import{Description as k}from"./description.js";import{PropertyNameLabel as F}from"./property-name-label.js";import{SchemaView as d}from"./schema-view.js";import{TypeNameLabel as R}from"./type-name-label.js";export const FunctionView=({schema:l,parent:E,name:a})=>{var o,s,m;const y=N(E,a),f=w(Object.entries((s=(o=l==null?void 0:l.properties)==null?void 0:o.arguments)!=null?s:{}),([t,n])=>t),b=(m=l.properties)==null?void 0:m.returns,g=t=>{var c;const n=[];for(const p of t.keys()){const[v,r]=t[p],j=p===t.length-1;n.push(e.createElement("span",null,`${(c=r.title)!=null?c:`arg_${v}`}: `)),typeof r.type=="string"&&["string","number","integer","boolean","null","any","void"].includes(r.type)?n.push(e.createElement("span",null,r.type)):n.push(e.createElement(u,{content:e.createElement(i,{padded:!0,border:!0,className:"schema-viewer-container popover-type-schema-table background-medium"},e.createElement("table",null,e.createElement("tbody",null,e.createElement(d,{schema:r}))))},e.createElement("span",{className:"popover-type-ref"},r.title))),j||n.push(e.createElement("span",null,", "))}return n},h=t=>t?typeof t.type=="string"&&["string","number","integer","boolean","null","any","void"].includes(t.type)?t.type:e.createElement(u,{content:e.createElement(i,{padded:!0,border:!0,className:"schema-viewer-container popover-type-schema-table background-medium"},e.createElement("table",null,e.createElement("tbody",null,e.createElement(d,{schema:t}))))},e.createElement("span",{className:"popover-type-ref"},t.title)):"void";return e.createElement(e.Fragment,null,a&&e.createElement(F,{name:a}),e.createElement("td",null,e.createElement("span",{className:"function-type"},e.createElement(e.Fragment,null,e.createElement("span",null,"("),e.createElement(e.Fragment,null,g(f)),e.createElement("span",null,")"),e.createElement("span",null," => "),e.createElement("span",null,h(b)))),!y&&e.createElement(e.Fragment,null,"|",e.createElement(R,{name:"undefined"}))),e.createElement("td",null,e.createElement(k,{description:l.description})))};

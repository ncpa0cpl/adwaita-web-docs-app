import{Box as u,Popover as E}from"../../../_snowpack/pkg/adwaita-web.js";import e from"../../../_snowpack/pkg/react.js";import{sortAlphanumeric as w}from"../../../helpers/sort-alphanum.js";import{isRequired as k}from"../utils/is-required.js";import{Description as N}from"./description.js";import{PropertyNameLabel as $}from"./property-name-label.js";import{SchemaView as y}from"./schema-view.js";import{TypeNameLabel as F}from"./type-name-label.js";export const FunctionView=({schema:a,parent:f,name:s})=>{var o,c,p,i;const d=k(f,s),g=w(Object.entries((p=(c=(o=a==null?void 0:a.properties)==null?void 0:o.arguments)==null?void 0:c.properties)!=null?p:{}),([t,n])=>t),b=(i=a.properties)==null?void 0:i.returns,h=t=>{const n=[];for(const r of t.keys()){const[m,l]=t[r],j=r===t.length-1;n.push(e.createElement("span",{key:`arg-name-${r}`},`${m.match(/[^0-9]+/)?m:`arg_${m}`}: `)),typeof l.type=="string"&&["string","number","integer","boolean","null","any","void"].includes(l.type)?n.push(e.createElement("span",{key:`arg-type-${r}`},l.type)):n.push(e.createElement(E,{key:`arg-popover-${r}`,content:e.createElement(u,{className:"json-schema-viewer schema-viewer-container"},e.createElement("table",null,e.createElement("tbody",null,e.createElement("tr",null,e.createElement(y,{schema:l})))))},e.createElement("span",{className:"popover-type-ref"},l.title))),j||n.push(e.createElement("span",{key:`separator-${r}`},", "))}return n},v=t=>t?typeof t.type=="string"&&["string","number","integer","boolean","null","any","void"].includes(t.type)?t.type:e.createElement(E,{content:e.createElement(u,{className:"json-schema-viewer schema-viewer-container"},e.createElement("table",null,e.createElement("tbody",null,e.createElement("tr",null,e.createElement(y,{schema:t})))))},e.createElement("span",{className:"popover-type-ref"},t.title)):"void";return e.createElement(e.Fragment,null,s&&e.createElement($,{name:s}),e.createElement("td",null,e.createElement(N,{description:a.description})),e.createElement("td",null,e.createElement("span",{className:"function-type"},e.createElement(e.Fragment,null,e.createElement("span",null,"("),e.createElement(e.Fragment,null,h(g)),e.createElement("span",null,")"),e.createElement("span",null," => "),e.createElement("span",null,v(b)))),!d&&e.createElement(e.Fragment,null,"|",e.createElement(F,{name:"undefined"}))))};

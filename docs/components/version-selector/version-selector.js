import{Dropdown as p}from"../../_snowpack/pkg/adwaita-web.js";import a from"../../_snowpack/pkg/react.js";import{useSearchParams as h}from"../../_snowpack/pkg/react-router-dom.js";import{githubRepo as l}from"../../quarks/github-repo/github-repo.js";export const VersionSelector=()=>{const[o,s]=h(),r=l.use(),[u,t]=a.useState(r.value.currentBranch),n=e=>{if(e){const c=o.get("version");s({version:e}),t(e),l.selectBranch(e).catch(()=>{s({version:c!=null?c:""}),t(u)})}};return a.useEffect(()=>{t(r.value.currentBranch)},[r.value.currentBranch]),a.useEffect(()=>{const e=o.get("version");e&&r.value.branches.length>0&&n(e)},[r.value.branches]),a.createElement(p,{options:r.value.branches.map(e=>({label:e.label,value:e.name})),value:r.value.currentBranch,onChange:n,allowClear:!1})};

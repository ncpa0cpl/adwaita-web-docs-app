import{Box as c,Icon as g,Input as k,Label as h,List as i}from"../../_snowpack/pkg/adwaita-web.js";import*as u from"../../_snowpack/pkg/fzyjs.js";import{sortBy as b}from"../../_snowpack/pkg/rambda.js";import e,{useState as y}from"../../_snowpack/pkg/react.js";import{useNavigate as E}from"../../_snowpack/pkg/react-router-dom.js";import{githubRepo as j}from"../../quarks/github-repo/github-repo.js";import{typeDocs as v}from"../../quarks/typedocs/typedocs.js";import{VersionSelector as N}from"../version-selector/version-selector.js";import{ListItem as w}from"./list-item.js";import"./styles.css.proxy.js";const S=a=>`/${a}`;export function Sidebar(){const a=E(),[p,n]=y(""),r=p.trim(),d=j.use(),o=v.useComponentNames(),s=e.useMemo(()=>r?b(t=>-u.score(r,t),o.filter(t=>u.hasMatch(r,t))):o,[r,o]),f=t=>{t.preventDefault();const m=s[0];!m||(a(S(m)),setTimeout(()=>{var l;return(l=document.getElementById("main"))==null?void 0:l.focus()},200),n(""))};return e.createElement(c,{vertical:!0,compact:!0,className:"sidebar-root"},e.createElement(c,{vertical:!0,padded:!0,className:"background-dark"},e.createElement(N,null)),e.createElement(c,{vertical:!0,padded:!0,className:"background-dark"},e.createElement("form",{onSubmit:f},e.createElement(k,{allowClear:!0,icon:g.SystemSearch,placeholder:"Search documentation",value:r,onChange:n}))),e.createElement(i,{border:!1,fill:!0,sidebar:"navigation",className:"list"},s.map(t=>e.createElement(w,{key:t,route:t,search:r,currentBranch:d.value.currentBranch})),s.length===0&&e.createElement(i.Item,{className:"align"},e.createElement(h,{muted:!0,italic:!0},e.createElement("small",null,"No results found. Try searching for something else.")))))}

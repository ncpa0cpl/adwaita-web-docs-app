import{Box as n,Icon as k,Input as h,Label as y,List as u}from"../../_snowpack/pkg/adwaita-web.js";import*as p from"../../_snowpack/pkg/fzyjs.js";import{sortBy as E}from"../../_snowpack/pkg/rambda.js";import e,{useState as N}from"../../_snowpack/pkg/react.js";import{useMatch as b,useNavigate as j}from"../../_snowpack/pkg/react-router-dom.js";import{typeDocs as v}from"../../quarks/typedocs/typedocs.js";import{VersionSelector as w}from"../version-selector/version-selector.js";import{ListItem as S}from"./list-item.js";import"./styles.css.proxy.js";const I=a=>`/${a}`;export function Sidebar(){var l;const{params:a}=(l=b("/:componentName"))!=null?l:{},d=j(),[f,m]=N(""),r=f.trim(),s=v.useComponentNames(),c=e.useMemo(()=>r?E(t=>-p.score(r,t),s.filter(t=>p.hasMatch(r,t))):s,[r,s]),g=t=>{t.preventDefault();const o=c[0];!o||(d(I(o)),setTimeout(()=>{var i;return(i=document.getElementById("main"))==null?void 0:i.focus()},200),m(""))};return e.createElement(n,{vertical:!0,compact:!0,className:"sidebar-root"},e.createElement(n,{vertical:!0,padded:!0,className:"background-dark"},e.createElement(w,null)),e.createElement(n,{vertical:!0,padded:!0,className:"background-dark"},e.createElement("form",{onSubmit:g},e.createElement(h,{allowClear:!0,icon:k.SystemSearch,placeholder:"Search documentation",value:r,onChange:m}))),e.createElement(u,{border:!1,fill:!0,sidebar:"navigation",className:"list"},c.map(t=>{var o;return e.createElement(S,{key:t,route:t,search:r,currentItem:(o=a==null?void 0:a.componentName)!=null?o:""})}),c.length===0&&e.createElement(u.Item,{className:"align"},e.createElement(y,{muted:!0,italic:!0},e.createElement("small",null,"No results found. Try searching for something else.")))))}

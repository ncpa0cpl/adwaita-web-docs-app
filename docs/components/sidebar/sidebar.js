import{Box as n,Icon as k,Input as g,Label as h,List as y,ListItem as v}from"../../_snowpack/pkg/adwaita-web.js";import*as u from"../../_snowpack/pkg/fzyjs.js";import{sortBy as E}from"../../_snowpack/pkg/rambda.js";import e,{useState as j}from"../../_snowpack/pkg/react.js";import{useMatch as N}from"../../_snowpack/pkg/react-router-dom.js";import{useNav as b}from"../../hooks/use-nav.js";import{typeDocs as w}from"../../quarks/typedocs/typedocs.js";import{VersionSelector as S}from"../version-selector/version-selector.js";import{ListItem as I}from"./list-item.js";import"./styles.css.proxy.js";const L=o=>`/${o}`;export function Sidebar(){var l;const{params:o}=(l=N("/:componentName"))!=null?l:{},p=b(),[d,m]=j(""),r=d.trim(),a=w.useComponentNames(),c=e.useMemo(()=>r?E(t=>-u.score(r,t),a.filter(t=>u.hasMatch(r,t))):a,[r,a]),f=t=>{t.preventDefault();const s=c[0];!s||(p(L(s),{preserveQuery:!0}),setTimeout(()=>{var i;return(i=document.getElementById("main"))==null?void 0:i.focus()},200),m(""))};return e.createElement(n,{vertical:!0,compact:!0,className:"sidebar-root"},e.createElement(n,{vertical:!0,padded:!0,className:"background-dark"},e.createElement(S,null)),e.createElement(n,{vertical:!0,padded:!0,className:"background-dark"},e.createElement("form",{onSubmit:f},e.createElement(g,{allowClear:!0,icon:k.SystemSearch,placeholder:"Search documentation",value:r,onChange:m}))),e.createElement(y,{border:!1,fill:!0,sidebar:"navigation",className:"list"},c.map(t=>{var s;return e.createElement(I,{key:t,route:t,search:r,currentItem:(s=o==null?void 0:o.componentName)!=null?s:""})}),c.length===0&&e.createElement(v,{className:"align"},e.createElement(h,{muted:!0,italic:!0},e.createElement("small",null,"No results found. Try searching for something else.")))))}

import{Box as n,Icon as g,Input as h,Label as y,List as u}from"../../_snowpack/pkg/adwaita-web.js";import*as p from"../../_snowpack/pkg/fzyjs.js";import{sortBy as v}from"../../_snowpack/pkg/rambda.js";import e,{useState as E}from"../../_snowpack/pkg/react.js";import{useMatch as j}from"../../_snowpack/pkg/react-router-dom.js";import{useNav as N}from"../../hooks/use-nav.js";import{typeDocs as b}from"../../quarks/typedocs/typedocs.js";import{VersionSelector as w}from"../version-selector/version-selector.js";import{ListItem as S}from"./list-item.js";import"./styles.css.proxy.js";const I=o=>`/${o}`;export function Sidebar(){var l;const{params:o}=(l=j("/:componentName"))!=null?l:{},d=N(),[f,m]=E(""),r=f.trim(),s=b.useComponentNames(),c=e.useMemo(()=>r?v(t=>-p.score(r,t),s.filter(t=>p.hasMatch(r,t))):s,[r,s]),k=t=>{t.preventDefault();const a=c[0];!a||(d(I(a),{preserveQuery:!0}),setTimeout(()=>{var i;return(i=document.getElementById("main"))==null?void 0:i.focus()},200),m(""))};return e.createElement(n,{vertical:!0,compact:!0,className:"sidebar-root"},e.createElement(n,{vertical:!0,padded:!0,className:"background-dark"},e.createElement(w,null)),e.createElement(n,{vertical:!0,padded:!0,className:"background-dark"},e.createElement("form",{onSubmit:k},e.createElement(h,{allowClear:!0,icon:g.SystemSearch,placeholder:"Search documentation",value:r,onChange:m}))),e.createElement(u,{border:!1,fill:!0,sidebar:"navigation",className:"list"},c.map(t=>{var a;return e.createElement(S,{key:t,route:t,search:r,currentItem:(a=o==null?void 0:o.componentName)!=null?a:""})}),c.length===0&&e.createElement(u.Item,{className:"align"},e.createElement(y,{muted:!0,italic:!0},e.createElement("small",null,"No results found. Try searching for something else.")))))}
